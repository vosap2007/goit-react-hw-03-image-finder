{"version":3,"sources":["components/ImageGalleryItem.js","components/Modal.js","components/Searchbar.js","components/App.js","index.js"],"names":["ImageGalleryItem","state","photo","loading","error","page","loadMore","fetch","props","photoName","then","res","json","setState","prevState","hits","handlePhoto","event","preventDefault","onPhoto","prevProps","this","catch","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","type","color","height","width","timeout","className","length","map","id","tags","webformatURL","largeImageURL","webformatWidth","src","alt","onClick","togleModal","Component","Modal","handleKeyDown","e","code","handleOverlay","currentTarget","target","console","log","addEventListener","removeEventListener","openModalPhoto","Searchbar","handleNameChange","value","toLowerCase","handleSubmit","trim","onSubmit","alert","onChange","placeholder","App","showModal","handleFormSubmit","handlePhotoSubmit","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.5d825310.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from '../styles.modules.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    photo: [],\r\n    loading: false,\r\n    error: null,\r\n    page: 1,\r\n  };\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.photoName !== this.props.photoName) {\r\n      this.setState({loading: true, photo: []});\r\n      fetch(`https://pixabay.com/api/?q=${this.props.photoName}&page=${this.state.page}&key=19156356-c40e703531fee6556ca92e5f2&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(res => res.json())\r\n      .then(photo => this.setState({photo: photo.hits, page: prevState.page + 1}),\r\n      )\r\n      .catch(error => this.setState({error}))\r\n      .finally(() => this.setState({loading: false}));\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  loadMore = () => {\r\n      fetch(`https://pixabay.com/api/?q=${this.props.photoName}&page=${this.state.page}&key=19156356-c40e703531fee6556ca92e5f2&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(res => res.json())\r\n      .then((res) => {\r\n          this.setState((prevState) => ({\r\n            photo: [...prevState.photo, ...res.hits],\r\n            page: prevState.page + 1,\r\n          }));\r\n        },\r\n      );\r\n  };\r\n\r\n  handlePhoto = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.props.onPhoto(this.state.photo)\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.loading && <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n        className=\"Spiner\"\r\n      />}\r\n        {this.state.error && <h1>Picture {this.props.photoName} not nyen</h1>}\r\n        {this.state.photo.length > 0 && (\r\n          <ul className=\"ImageGallery\">\r\n            {this.state.photo.map(({ id, tags, webformatURL, webformatWidth, largeImageURL }) => (\r\n                <li key={id} className=\"ImageGalleryItem\">\r\n                  <img \r\n                  src={webformatURL} \r\n                  alt={tags} \r\n                  onClick={() => this.props.togleModal(largeImageURL)} \r\n                  className=\"ImageGalleryItem-image\"/>\r\n                </li>\r\n              )\r\n            )}\r\n          <button type=\"submit\" onClick={this.loadMore} className='Button'>Load more</button></ul>\r\n        )}\r\n        \r\n      </div>\r\n    );\r\n  } \r\n}","import React, { Component } from 'react';\r\nimport styles from '../styles.modules.css';\r\n\r\nexport default class Modal extends Component {\r\n  state = {\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log('Это');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log('ескейп');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.togleModal();\r\n    }\r\n  };\r\n\r\n  handleOverlay = event => {\r\nif(event.currentTarget === event.target) {\r\n  this.props.togleModal();\r\n}\r\n  };\r\n\r\n   render() { \r\n     return (\r\n      <div className=\"Overlay\" onClick={this.handleOverlay}>\r\n      <div className=\"Modal\">\r\n        <img src={this.props.openModalPhoto} alt=\"\" />\r\n      </div>\r\n    </div>  \r\n    ); \r\n  }\r\n}","import React, { Component } from 'react';\r\nimport styles from '../styles.modules.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    photoName: \"\",\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState(\r\n      {photoName: event.currentTarget.value.toLowerCase()\r\n       });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\nif (this.state.photoName.trim() === '') {\r\n  alert('Введите правильно запрос.');\r\n  return;\r\n}\r\n\r\n    this.props.onSubmit(this.state.photoName)\r\n    this.setState({photoName: ''});\r\n  };\r\n\r\n   render() { \r\n     return (\r\n      <div>\r\n         <header className=\"searchbar\">\r\n  <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      value={this.state.photoName}\r\n      onChange={this.handleNameChange}\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n      </div>\r\n    ); \r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n//import Button from './Button';\r\n//import ImageGallery from './ImageGallery';\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n//import Loader from './Loader';\r\nimport Modal from './Modal';\r\nimport Searchbar from './Searchbar';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    photoName: \"\",\r\n    showModal: false,\r\n    photo: \"\",\r\n  };\r\n  \r\n\r\n  togleModal = (photo) => {\r\n    this.setState( state => ({\r\n      showModal: !state.showModal,\r\n      photo: !state.photo ? photo : \"\",\r\n    }) )\r\n  }\r\n\r\n  handleFormSubmit = photoName => {\r\n    this.setState({photoName});\r\n  };\r\n\r\n  handlePhotoSubmit = photo => {\r\n    this.setState({photo});\r\n  };\r\n\r\n  render() {\r\n  return (\r\n    <div>\r\n      <Searchbar onSubmit={this.handleFormSubmit}/>\r\n      <ImageGalleryItem \r\n      photoName={this.state.photoName} \r\n      togleModal={this.togleModal}\r\n      onPhoto={this.handlePhotoSubmit}/>\r\n      \r\n      {this.state.showModal && <Modal openModalPhoto={this.state.photo} togleModal={this.togleModal}>\r\n        \r\n      </Modal>\r\n      }\r\n    </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}